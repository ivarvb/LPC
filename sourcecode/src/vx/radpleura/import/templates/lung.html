<!--
# Author: Ivar Vargas Belizario
# Copyright (c) 2020
# E-mail: ivar@usp.br
-->

<!DOCTYPE html>
<meta charset="utf-8">
<title></title>

<link href="./lib/style.css" id="stylecss" rel="stylesheet">
<link href="./lib/fontawesome-free-5.14.0-web/css/all.css" rel="stylesheet">
<link href="./lib/bootstrap-4.5.2-dist/css/bootstrap.min.css" rel="stylesheet">


<!-- <script src="./lib/d3.v4.min.js" charset="utf-8"></script> -->
<script src="./lib/d3.v5.min.js" charset="utf-8"></script>
<!-- <script src="https://d3js.org/d3.v5.min.js"></script> -->


<script src="./lib/util.js"></script>
<script src="./lib/drawio.js"></script>
<script src="./lib/lung.js"></script>
<!-- <script src="./lib/interact.js"></script> -->
<script src="./lib/Modal.js"></script>
<script src="./lib/MonitorProcess.js"></script>

<link rel="icon" href="./img/lungs.ico">

<!-- hsl(222, 17%, 40%) -->
<body style="background-color: hsl(222, 17%, 40%); padding: 0; margin: 0;
    overflow-y: hidden;
    overflow-x: hidden;
    height: 100%;
    position: relative;  
"
    onload="//SCB.fullScreen();"
>
    <div id="toolpiltex"
        style="background-color: #222;
            position: absolute;
            z-index: 1000000; padding: 2px; font-weight: bold;
            border: solid 1px #a6a6a6; color: #fff; display: none;"
    >
    </div>


    <!-- <div id="idloading"
         style="
            display: none;
            z-index: 99999999;
            position: fixed;
            width: 100%;
            height: 100%;
            left: 0;
            top: 0;
            background: rgba(50,50,50,0.7);
            z-index: 10;
         "
    >
        <div style="position: absolute; 
            /*border: solid 1px red;*/
            min-width: 160px;
            text-align: right;
            top: 50%;
            left: 50%;
            margin-top: -80px;
            margin-left: -80px;
            z-index: 20;
            text-align: center;
            "
            >
            <div class="d-flex justify-content-center">
              <div  class="spinner-border text-danger" 
                    style="width: 160px; height: 160px;" 
                    role="status">
                <span class="sr-only">Loading...</span>
              </div>
            </div>
        </div>
    </div> -->


    <table style="position: absolute; top: 0; bottom: 0; left: 0; right: 0;
        width: 100%; height: 100%; border-collapse: collapse;"
    >
        <tr>
            <td colspan="2"
            style="
                position: fixed;
                z-index: 26;
                width: 100%;
            "
            >
                <div style="background-color: #131d38; width: 100%;
                    min-height: 31px;
                ">
                    <div>
                        <nav class="navbar navbar-light" style="background-color: #131033; margin:0; padding: 0;">
                            <div class="form-inline">
                                <a class="nav-link mr-auto" 
                                    href="./lung"
                                    style="color: #fff; font-weight: bold;
                                    padding: 0; padding-left: 5px;
                                    "
                                >
                                    <i class="fas fa-lungs fa-lg"></i>
                                    <!-- Pleura Lung Classification -->
                                </a>
                                <span style="width: 5px;"></span>
                            <!-- <div class="mx-auto order-0"> -->
                                <a  class="nav-link mr-auto" href="#" 
                                    id="iddatasettitle"
                                    style="color: #fff; display: none;"
                                    onclick="
                                        if (SCB.isnamedbedited) {
                                            this.style.display = 'none';
                                            gelem('layoutchangenametxtdb').style.display = 'block';
                                            ffocus('idtextdbname');
                                        }
                                    " 
                                >
                                    <!-- <span id="idnameproject"></span> -->
                                    <i class='fa fa-edit' title="Edit"></i>
                                </a>
        
                                <div id="layoutchangenametxtdb"
                                    style="display: none; margin: 0; padding: 0;"
                                >
                                    <input type="text" value=""
                                        placeholder="Dataset name"
                                        autocomplete="off"
        
                                        class="form-control form-control-sm"
                                        style="width: 250px;"
                                        id="idtxtnameproject" 
                                        onkeypress="
                                            SCB.updatedatasetname(event, this.value);
                                        "
                                    >
                                </div>
                            </div>
        
                            <div class="form-inline">
                                <a class="nav-link" style="color: #fff;" href="#"><i class="fa fa-user-circle" style="color: #fff;"></i> {{email}}</a>
                                <a class="nav-link" href="./logout" style="color: #fff;">
                                    <i class="fas fa-sign-out-alt" style="color: #ff0000;"></i> Logout
                                </a>
                            </div>
                        </nav>
                    </div>    
                </div>            
            </td>
        </tr>
        <tr style="height: 100%;">
            <td style="background-color: #0d2e4d;
                width: 30px; min-width: 30px;
                height: 100%;
                vertical-align: top;
                position: fixed;
                z-index: 25;
                top: 30px;
            "
            >
                <div style="padding-left: 7px; padding-top: 7px; margin: 0 auto;">
                    <!-- bg-transparent -->
                    <!-- <i class="fa fa-search"></i> -->
                    <!-- 
                    <div class="btn-group-vertical">
                        <a href="#" class="btn btn-primary btn-sm"
                            style="width: 30px;
                            background-color: #6243a8;
                            border-color: #3c2b63;
                            "
                        >
                            <i class="fas fa-th fa-lg white-color" style="vertical-align: middle;"></i>
                        </a>
                    </div> -->

                    <!--
                    <div class="btn-group-vertical">
                    -->
                        <!-- 
                        <a href="#" class="btn bg-transparent btn-sm"
                            onclick="
                                SCB.opengallery();
                                SCB.showlayout('galleryimg');
                            "
                            title="Show images gallery"
                            style="width: 30px;
                                /* background-color: #00c234;
                                border-color: #00c234; */
                            "
                        >
                            <i class="fas fa-th fa-lg"
                                style="padding: 0;margin: 0; width: 100%; color: #fff"
                            ></i>
                        </a>
                        -->
                    <!-- 
                    </div>
                    -->

                    <!-- <div style="height: 10px;"></div> -->

                        
                        <!-- <a href="#" class="btn btn-primary btn-sm"
                            onclick="
                                SCB.showlayout('frmvsi');
                            "
                            title="Convert VSI to tiff"
                            style="width: 30px;
                                /* background-color: #0051ad;
                                border-color: #012a59; */
                            "
                        >
                            <i class="fas fa-upload"
                                style="padding: 0;margin: 0; width: 100%; color: #fff"
                            ></i>
                        </a> -->
                        <ul class="navbar-nav">
                            <li class="nav-item" title="Show images list"
                                onclick="
                                    openprojects();
                                    //SCB.opengallery();
                                    //SCB.showlayout('gallerylist');
                                "
                            >
                                <a href="#" class="nav-link"
                                    style="width: 30px;
                                        /* background-color: #00c234;
                                        border-color: #00c234; */
                                        /* background-color: #6243a8;
                                        border-color: #3c2b63; */
                                    "
                                >
                                    <i class="fas fa-align-justify fa-lg"
                                        style="padding: 0;margin: 0; width: 100%; color: #fff"
                                    ></i>
                                </a>
                            </li>
                            <li class="nav-item"
                                onclick="SCB.fullScreen();"
                                title="Full Screen"
                            >
                                <a class="nav-link" style="color: #ccc" href="#"
                                >
                                    <i class="fas fa-expand fa-lg"></i>
                                </a>
                            </li>
                            <li class="nav-item"
                                onclick="SCB.showlayout('lyhelppanel');"
                                title="Help"
                            >
                                <a class="nav-link" style="color: #ccc" href="#"
                                >
                                    <i class="fa fa-question-circle fa-lg"></i>
                                </a>
                            </li>
                            <li class="nav-item" title="Logout"
                            >
                                <!-- class="btn bg-transparent btn-sm" -->
                                <a href="./logout"
                                    style="color: #fff;"
                                >
                                    <i class="fas fa-sign-out-alt" style="color: #ff0000;"></i>
                                </a>
                            </li>
                        </ul>

                        


                        <!-- <a href="#" class="btn btn-warning btn-sm"
                            onclick="
                                SCB.showlayout('frmupload');
                            "
                            title="Upload image x"
                            style="width: 30px;
                                /* background-color: #00c234;
                                border-color: #00c234; */
                            "
                        >
                            <i class="fas fa-upload"
                                style="padding: 0;margin: 0; width: 100%;"
                            ></i>
                        </a> -->                

                    <!--
                    <div style="height: 10px;"></div>
                    <a href="#" class="btn btn-warning btn-sm"
                        onclick="
                            
                        "
                        title="Upload image"
                        style="width: 30px;"
                    >
                        <i class="fa fa-square fa-2x"
                            style="padding: 0;margin: 0; width: 100%;"
                        ></i>
                    </a>
                    -->
                    
                    <div style="height: 10px;"></div>
<!--
                    <div class="btn-group-vertical">
                            <a href="#" class="btn bg-transparent btn-sm"
                                onclick="
                                    SCB.fullScreen();
                                    SCB.setscribblesclass(0);
                                "
                                title="Scribbles 1"
                                style="width: 30px;
                                    /* background-color: #00c234;
                                    border-color: #00c234; */
                                "
                            >
                                <i class="fas fa-pencil-alt fa-lg"
                                    style="padding: 0;margin: 0; width: 100%; color: #fff"
                                ></i>
                            </a>
                            <a href="#" class="btn bg-transparent btn-sm"
                                onclick="
                                    SCB.setscribblesclass(1);
                                "
                                title="Scribbles 2"
                                style="width: 30px;
                                    /* background-color: #ff0000;
                                    border-color: #ff0000; */
                                "
                            >
                                <i class="fas fa-pencil-alt fa-lg"
                                    style="padding: 0;margin: 0; width: 100%; color: #fff"
                                ></i>
                            </a>
                            <a href="#" class="btn bg-transparent btn-sm"
                                onclick="
                                    SCB.setscribblesclass(2);
                                "
                                title="Scribbles 3"
                                style="width: 30px;
                                    /* background-color: #0062d1;
                                    border-color: #0062d1; */
                                "
                            >
                                <i class="fas fa-pencil-alt fa-lg"
                                    style="padding: 0;margin: 0; width: 100%; color: #fff;"
                                ></i>
                            </a>
                            <a href="#" class="btn bg-transparent btn-sm"
                                onclick="
                                    SCB.setscribblesclass(3);
                                "
                                title="Scribbles 4"
                                style="width: 30px;                      
                                    /* background-color: #801ac4;
                                    border-color: #801ac4; */
                                "
                            >
                                <i class="fas fa-pencil-alt fa-lg"
                                    style="padding: 0;margin: 0; width: 100%; color: #fff"
                                ></i>
                            </a>
                            <a href="#" class="btn bg-transparent btn-sm"
                                onclick="
                                    SCB.setscribblesclass(4);
                                "
                                title="Scribbles 5"
                                style="width: 30px;
                                    /* background-color: #de7600;
                                    border-color: #de7600; */
                                "
                            >
                                <i class="fas fa-pencil-alt fa-lg"
                                    style="padding: 0;margin: 0; width: 100%; color: #fff"
                                ></i>
                            </a>
                    </div>
                    <div style="height: 10px;"></div>
                    <div class="btn-group-vertical">
                            <a href="#" class="btn bg-transparent btn-sm"
                                onclick="
                                    SCB.fullScreen();
                                    SCB.setscribblesclass(0);
                                "
                                title="Scribbles 1"
                                style="width: 30px;
                                    /* background-color: #00c234;
                                    border-color: #00c234; */
                                "
                            >
                                <i class="fas fa-pencil-alt fa-lg"
                                    style="padding: 0;margin: 0; width: 100%; color: #fff"
                                ></i>
                            </a>
                            <a href="#" class="btn bg-transparent btn-sm"
                                onclick="
                                    SCB.setscribblesclass(1);
                                "
                                title="Scribbles 2"
                                style="width: 30px;
                                    /* background-color: #ff0000;
                                    border-color: #ff0000; */
                                "
                            >
                                <i class="fas fa-pencil-alt fa-lg"
                                    style="padding: 0;margin: 0; width: 100%; color: #fff"
                                ></i>
                            </a>
                            <a href="#" class="btn bg-transparent btn-sm"
                                onclick="
                                    SCB.setscribblesclass(2);
                                "
                                title="Scribbles 3"
                                style="width: 30px;
                                    /* background-color: #0062d1;
                                    border-color: #0062d1; */
                                "
                            >
                                <i class="fas fa-pencil-alt fa-lg"
                                    style="padding: 0;margin: 0; width: 100%; color: #fff;"
                                ></i>
                            </a>
                            <a href="#" class="btn bg-transparent btn-sm"
                                onclick="
                                    SCB.setscribblesclass(3);
                                "
                                title="Scribbles 4"
                                style="width: 30px;                      
                                    /* background-color: #801ac4;
                                    border-color: #801ac4; */
                                "
                            >
                                <i class="fas fa-pencil-alt fa-lg"
                                    style="padding: 0;margin: 0; width: 100%; color: #fff"
                                ></i>
                            </a>
                            <a href="#" class="btn bg-transparent btn-sm"
                                onclick="
                                    SCB.setscribblesclass(4);
                                "
                                title="Scribbles 5"
                                style="width: 30px;
                                    /* background-color: #de7600;
                                    border-color: #de7600; */
                                "
                            >
                                <i class="fas fa-pencil-alt fa-lg"
                                    style="padding: 0;margin: 0; width: 100%; color: #fff"
                                ></i>
                            </a>
                            <a href="#" class="btn bg-transparent btn-sm"
                                onclick="
                                    SCB.setscribblesclass(4);
                                "
                                title="Scribbles 5"
                                style="width: 30px;
                                    /* background-color: #de7600;
                                    border-color: #de7600; */
                                "
                            >
                                <i class="fas fa-square fa-lg"
                                    style="padding: 0;margin: 0; width: 100%; color: #fff"
                                ></i>
                            </a>
                            <a href="#" class="btn bg-transparent btn-sm"
                                onclick="
                                    SCB.setscribblesclass(4);
                                "
                                title="Scribbles 5"
                                style="width: 30px;
                                    /* background-color: #de7600;
                                    border-color: #de7600; */
                                "
                            >
                                <i class="fas fa-draw-polygon fa-lg"
                                    style="padding: 0;margin: 0; width: 100%; color: #fff"
                                ></i>
                            </a>
                    </div>
                    <div style="height: 10px;"></div>
                    <div class="btn-group-vertical">
                            <a href="#" class="btn bg-transparent btn-sm"
                                onclick="
                                    SCB.clear();
                                "
                                title="Scribbles 1"
                                style="width: 30px;
                                    /* background-color: #00c234;
                                    border-color: #00c234; */
                                "
                            >
                                <i class="fas fa-eraser fa-lg"
                                    style="padding: 0;margin: 0; width: 100%; color: #fff"
                                ></i>
                            </a>
                            <a href="#" class="btn bg-transparent btn-sm"
                                onclick="
                                    SCB.executesegmentation();
                                "
                                title="Scribbles 1"
                                style="width: 30px;
                                    /* background-color: #00c234;
                                    border-color: #00c234; */
                                "
                            >
                                <i class="fa fa-play-circle fa-lg"
                                    style="padding: 0;margin: 0; width: 100%; color: #fff"
                                ></i>
                            </a>
                    </div> -->
                </div>                
            </td>
            <td style="vertical-align: middle;
                padding-top: 30px;
                padding-left: 30px;
                padding-right: 0px;
                padding-bottom: 0px;"
            >
                    <!-- <div style="height: 35px;"></div> -->
                    <div id="lyfrminputpanel" style="padding: 10px; 
                        min-width: 250px; max-width: 250px; margin: 0 auto; 
                        min-height: 100%; max-height: 100%;
                        "
                    >
                        <div style="padding: 5px;
                            padding-bottom: 2px;
                            padding-top: 2px;
                            background-color :#22124a; color: #fff; font-weight: bold;">
                            Convert VSI to TIFF
                        </div>
                        <div style="padding: 5px; background-color: #392f70;">
                            <table style="width: 100%;">
                                <tr>
                                    <td>
                                        <table style="width: 100%;">
                                            <tr>
                                                <td>
                                                    <div style="color: #fff;">
                                                        Name
                                                        <input id="idFileName" type="text"  class="form-control  form-control-sm" placeholder="Name"
                                                        >
                                                    </div>
                                                    <div style="height: 15px;"></div>
                                                </td>
                                            </tr>
                                            </tr>
                                                <td>
                                                    <div style="color: #fff;">
                                                        VSI File
                                                    </div>
                                                    <table>
                                                        <tr>
                                                            <td style="width: 100%;">
                                                                <input id="idinputFilevsival" type="text"  class="form-control  form-control-sm"
                                                                    placeholder="VSI File"
                                                                    style="width: 100%;"
                                                                    readonly
                                                                >
                                                                <div style="height: 15px;"></div>
                                                            </td>
                                                            <td>
                                                                <div style="width: 5px;"></div>
                                                            </td>
                                                            <td>
                                                                <a href="#" class="btn btn-primary btn-sm"
                                                                    onclick="
                                                                        SCB.showlayout('openfile');
                                                                    "
                                                                    title="Choose File"
                                                                >
                                                                    <i class="fa fa-folder-open"
                                                                        style="padding: 0;margin: 0; width: 100%; color: #fff"
                                                                    ></i>
                                                                </a>
                                                                <div style="height: 15px;"></div>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <div style="color: #fff;">
                                                        Factor
                                                    </div>
                                                    <table style="width: 100%;">
                                                        <tr>
                                                            <td>
                                                                <!-- <a href="#" class="btn btn-primary btn-sm"
                                                                    onmousedown="
                                                                        timer_is_plus = 0;
                                                                        doTimer();
                                                                    "
                                                                    onmouseup="
                                                                        stopCount();
                                                                    "
                                                                    title="Upload image"
                                                                    style="width: 30px;
                                                                        /* background-color: #00c234;
                                                                        border-color: #00c234; */
                                                                    "
                                                                >
                                                                    -
                                                                </a> -->
                                                            </td>
                                                            <td style="width: 100%;">
                                                                <input type="number" class="form-control form-control-sm"
                                                                min="1" value="3" step="1" max="10"
                                                                style="width: 100%;"
                                                                id="idnumberfactor"
                                                                />
                                                            </td>
                                                            <td>

                                                            </td>
                                                        </tr>
                                                    </table>
                                                    <div style="height: 15px;"></div>
                                                </td>
                                            </tr>
                                        </table>                                
                                    </td>   
                                </tr>
                                <tr>
                                    <td style="text-align: center;">
                                        <table style="width: 100%;">
                                            <tr>
                                                <td style="text-align: left;">
                                                    <a href="#" class="btn btn-secondary btn-sm"
                                                        onclick="
                                                            SCB.opengallery();
                                                            SCB.showlayout('gallerylist');
                                                        "
                                                        title=""
                                                        style="width: 70px;
                                                            /* background-color: #00c234;
                                                            border-color: #00c234; */
                                                        "
                                                    >
                                                        Cancel
                                                    </a>
                                                            
                                                </td>
                                                <td style="text-align: right;">
                                                    <a href="#" class="btn btn-primary btn-sm"
                                                        onclick="
                                                            SCB.createimgpfromvsi();
                                                        "
                                                        title=""
                                                        style="width: 70px;
                                                            /* background-color: #00c234;
                                                            border-color: #00c234; */
                                                            
                                                        "
                                                    >
                        <!--                                         <i class="fas fa-upload fa-lg"
                                                            style="padding: 0;margin: 0; width: 100%; color: #fff"
                                                        ></i>
                        -->                                        Convert
                                                    </a>                                                
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div style="height: 20px;"></div>
                    </div>
                    <div id="lyfrmuploadpanel" style="padding: 10px; 
                        min-width: 250px; max-width: 250px; margin: 0 auto; 
                        min-height: 100%; max-height: 100%;
                        "
                    >
                        <div style="padding: 5px;
                            padding-bottom: 2px;
                            padding-top: 2px;
                            background-color :#22124a; color: #fff; font-weight: bold;">
                            Upload Image
                        </div>
                        <div style="padding: 5px; background-color: #392f70;">
                            <table style="width: 100%;">
                                <tr>
                                    <td>
                                        <table style="width: 100%;">
                                            <tr>
                                                <td>
                                                    <div style="color: #fff;">
                                                        Name
                                                        <input id="idUploadFileName" type="text"  class="form-control  form-control-sm" placeholder="Name"
                                                        >
                                                    </div>
                                                    <div style="height: 15px;"></div>
                                                </td>
                                            </tr>
                                            </tr>
                                                <td>
                                                    <div style="color: #fff;">
                                                        Image
                                                    </div>
                                                    <table>
                                                        <tr>
                                                            <td style="width: 100%;">
                                                                <input id="idUploadtFilevsival" type="text"  class="form-control  form-control-sm"
                                                                    placeholder="VSI File"
                                                                    style="width: 100%;"
                                                                    readonly
                                                                >
                                                                <div style="height: 15px;"></div>
                                                            </td>
                                                            <td>
                                                                <div style="width: 5px;"></div>
                                                            </td>
                                                            <td>
                                                                <a href="#" class="btn btn-primary btn-sm"
                                                                    onclick="
                                                                        SCB.showlayout('openfile');
                                                                    "
                                                                    title="Choose File"
                                                                >
                                                                    <i class="fa fa-folder-open"
                                                                        style="padding: 0;margin: 0; width: 100%; color: #fff"
                                                                    ></i>
                                                                </a>
                                                                <div style="height: 15px;"></div>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>                                
                                    </td>   
                                </tr>
                                <tr>
                                    <td style="text-align: center;">
                                        <table style="width: 100%;">
                                            <tr>
                                                <td style="text-align: left;">
                                                    <a href="#" class="btn btn-secondary btn-sm"
                                                        onclick="
                                                            SCB.opengallery();
                                                            SCB.showlayout('gallerylist');
                                                        "
                                                        title=""
                                                        style="width: 70px;
                                                            /* background-color: #00c234;
                                                            border-color: #00c234; */
                                                        "
                                                    >
                                                        Cancel
                                                    </a>
                                                            
                                                </td>
                                                <td style="text-align: right;">
                                                    <a href="#" class="btn btn-primary btn-sm"
                                                        onclick="
                                                            SCB.createimgpfromvsi();
                                                        "
                                                        title=""
                                                        style="width: 70px;
                                                            /* background-color: #00c234;
                                                            border-color: #00c234; */
                                                            
                                                        "
                                                    >
                        <!--                                         <i class="fas fa-upload fa-lg"
                                                            style="padding: 0;margin: 0; width: 100%; color: #fff"
                                                        ></i>
                        -->                                        Upload
                                                    </a>                                                
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div style="height: 20px;"></div>
                    </div>
                    
                    <div id="lylistpanel" 
                        style="text-align:center; height: 100%; margin: 0 auto;
                        
                        "
                    >
                        <!--
                        <div style="position: fixed; height: 45px;
                            width: 100%; background-color: #392f70;
                            padding: 10px;
                            "
                        >
                            <input type="text"  class="form-control  form-control-sm" placeholder="Search"
                                style="width: 250px;"
                            >
                        </div>
                        <div style="height: 45px;"></div>
                        -->
                        <div style="height: 2px;"></div>
                        <div class="form-group has-search" style="padding: 10px; padding-bottom: 0; 
                        margin: 0;
                        ">
                            <table style="width: 30%">
                                <tr>
                                    <td style="width: 100%">
                                        <!-- <span class="fa fa-search form-control-feedback"></span> -->
                                        <div class="input-group">
                                            <input id="idtxtsearch" type="text" class="form-control" placeholder="Search"
                                                style="padding-left: 0.5rem;"
                                            >
                                            <div class="input-group-append">
                                              <button class="btn btn-primary" type="button">
                                                <i class="fa fa-search"></i>
                                              </button>
                                            </div>
                                        </div>
                                    </td>
                                    <td><div style="width: 5px;"></div></td>
                                    <td style="width: 30px">
                                        <form name="formupload" id="formupload"
                                            action="./query"
                                            method="POST"
                                            enctype="multipart/form-data"
                                            target="hidden_upload"
                                        >
                                            <a class="btn btn-warning"
                                                onclick="
                                                    gelem('fileu').click();
                                                "
                                                title="Upload dataset (only .csv and .zip(csv) files)"
                                                style="width: 30px" 
                                            >
                                                <i class="fa fa-upload"></i>
                                            </a>
                                            <input type="hidden" id="datafromupload" name="data" value="">
                                            <input type="file" id="fileu" name="fileu"
                                                onchange="
                                                    if (trim(this.value)!=''){
                                                        SCB.uploadfiledata();
                                                    }
                                                "
                                                style="display: none"
                                            >
                                        </form>
                                        <iframe id=hidden_upload name=hidden_upload
                                            style="
                                            width:0;height:0px;border:0px solid #fff; display: none;
                                            ">
                                        </iframe>
                                    </td>
                                </tr>
                            </table>                            
                        </div>
                        <div style="height: 5px;"></div>
                        <div id="lylistview" style="text-align:center; margin: 0 auto;
                            padding: 10px; padding-top: 0;
                            height: 100vh;
                            overflow: auto;
                            "
                        > 
                        </div>
                        <!-- <div style="height: 200px;">asdf</div> -->
                    </div>    

                    <!-- *** image view panel -->
                    <style>
                        .outer {
                            /* width: 400px; */
                            overflow: hidden;
                        }

                        .inner {
                            display: inline-block;
                            position: relative;
                            /* right: -50%; */
                        }

                        img {
                            position: relative;
                            /*left: -50%;*/
                        }
                        
                    </style>

                    <div id="lyimgpanel" style="
                        text-align: center;
                    ">
                        <div style="
                            position:absolute;
                            top:31px;
                            margin: 0 auto;
                            right:0;
                            left:0;
                            
                            "
                        >
                            <div class="btn-group"
                                style="border: solid 4px #0d2e4d;
                                background-color:  #0d2e4d;
                                border-bottom-left-radius: 3px 3px;
                                border-bottom-right-radius: 3px 3px;
                                "
                            >
                                <div class="btn-group mr-2" role="group" aria-label="Second group">
                                    <!--
                                    <a href="#" class="btn btn-dark btn-sm"
                                        onclick="
                                            //DRW.executesegmentation();
                                            console.log('DRW.homepath',DRW.homepath);
                                            SCB.load_roids_as_polygons(DRW.homepath);
                                            //DRW.drawsegmentation(dataseg);
                                            //

                                        "
                                        title="Show ROIs"
                                        style="width: 30px;
                                            /* background-color: #00c234;
                                            border-color: #00c234; */
                                        "
                                    >
                                        <i class="fas fa-tags"
                                            style="padding: 0;margin: 0; width: 100%; color: #fff"
                                        ></i>
                                    </a>
                                    <a href="#" class="btn btn-light btn-sm"
                                        onclick="
                                            DRW.clear();
                                        "
                                        title="clear"
                                        style="width: 30px;
                                            /* background-color: #00c234;
                                            border-color: #00c234; */
                                        "
                                    >
                                        <i class="fas fa-eraser fa-lg"
                                            style="padding: 0;margin: 0; width: 100%; color: #000"
                                        ></i>
                                    </a>
                                    -->

                                    <a class="btn btn-primary btn-sm" 
                                        style="color: #ccc"
                                        href="#"
                                        onmousemove="
                                            SCB.setToolpiltexHelp(
                                                event.clientX,
                                                event.clientY+40
                                            );
                                            console.log(event.clientX);
                                        "
                                        onmouseout="
                                            SCB.hideToolpiltex();
                                        "
                                    >
                                        <i class="fa fa-question-circle fa-lg" style="color: white;"></i>
                                    </a>
                                    <a class="btn btn-warning btn-sm"
                                        onclick="
                                        "
                                        title=""
                                    >
                                        <input id ="idroisopacity" 
                                            title="Opacity calibration"
                                            type="range" min="1" max="100" value="70"
                                            style="
                                                /*height: 20px; */
                                                width: 80px;
                                                vertical-align: bottom;
                                                margin: 0;
                                                padding: 0;
                                                /*-webkit-appearance: slider-vertical;*/
                                                background-color: #ff0000;
                                            "
                                            onchange="
                                                /* GFFOBJ.edgetransparency = (this.value/100.0);
                                                GFFOBJ.layoutfeatures.updateedgestransparency(); */
                                            "
                                            onmousemove="
                                                /* numb = this.value;
                                                GFFOBJ.setToolpiltex(
                                                    event.clientX,
                                                    event.clientY,
                                                    'Edge opacity '+numb+' %'
                                                    );
                                                //console.log(numb); */
                                            "
                                            onmouseout="
                                                /* GFFOBJ.hideToolpiltex(); */
                                            "
                        
                                        />                                    

                                    </a>
                                </div>
                                <div class="btn-group" role="group" aria-label="First group">
                                    <select class="form-select" aria-label="Default select example"
                                        id="idmodel" title="Classification model"
                                        onchange="
                                            SCB.load_roids_as_polygons(DRW.homepath);
                                        "
                                    >
                                        <option value="SVMC500">SVM (500x500)</option>
                                        <option value="XGBC500">GBD (500x500)</option>
                                        <option value="ResNet_odspleura200tile1black">ResNet (200x200)</option>
                                    </select>
                                    <a href="#" class="btn btn-primary btn-sm"
                                        onclick="
                                            SCB.makeclassification();
                                        "
                                        title="Execute classification"
                                        style="width: 30px;
                                            /* background-color: #00c234;
                                            border-color: #00c234; */
                                        "
                                    >
                                        <i class="fa fa-play-circle fa-lg"
                                            style="padding: 0;margin: 0; width: 100%; color: #fff"
                                        ></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <!--                
                        <div class="outer">
                            <div class="inner">
                            <img src="https://www.thoughtco.com/thmb/CcGtsWzKtmaeYCGrr5EEnK41T5A=/3863x2173/smart/filters:no_upscale()/close-up-view-of-a-mother-brown-bear-standing-over-her-cub-as-they-appear-to-be-looking-out-for-any-danger--kuril-lake--kamchatka--russia--827261734-5b97dfaa46e0fb0050b348af.jpg" alt="" />
                            </div>
                        </div>
                        -->
                        <div id="lyimgview"
                            style="
                                min-width: 100%;
                                max-width: 100%;


                            "
                        >
                        </div>
                        <!-- top pad -->
                        <div style="
                            /* background-color: #fae5b0; */
                            position: fixed;
                            top: 35px; left: 35px;
                            width: 125px; height: 100px;
                            z-index: 126;
                            text-align: left;
                            padding: 10px;
                            /* opacity: 0.75; */
                            "
                            onmouseover="
                                this.style.cursor='cell';
                            "    
                        >
                            <a href="#" class="btn btn-dark btn-sm"
                                onclick=""
                                title="Show non pleura"
                                style="width: 100px; background-color: black;"
                            >
                                <i class="fa fa-tag fa-lg"
                                    style="color: #fff"
                                ></i>
                                &nbsp; Unlabeled
                            </a>
                            <div style="height: 4px;"></div>

                            <a href="#" class="btn btn-danger btn-sm"
                                onclick=""
                                title="Show non pleura"
                                style="width: 100px;"
                            >
                                <i class="fa fa-tag fa-lg"
                                    style="color: #fff"
                                ></i>
                                Non-Pleura
                            </a>
                            <div style="height: 4px;"></div>

                            <a href="#" class="btn btn-success btn-sm"
                                onclick=""
                                title="Show pleura"
                                style="width: 100px;"
                            >
                                <i class="fa fa-tag fa-lg"
                                    style="color: #fff"
                                ></i>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pleura
                            </a> 
                        </div>

                        <!-- status bottom bar -->
                        <div style="background-color: #000; color: #fff;
                            position: fixed; bottom: 0; width: 100%; vertical-align: middle;
                            opacity: 0.85;
                            z-index: 126;
                            padding: 2px;
                            padding-right: 50px;
                            padding-left: 10px;
                            ">
                                <span id="idbottbar" style="
                                    float: left; 
                                    font-size: 10px;
                                ">
                                    &nbsp;
                                </span>        
                                <span id="idimginfo" style="
                                    float: right; 
                                    font-size: 10px;
                                ">
                                    &nbsp;
                                </span>
                        </div>
                    </div>


                    
                    <div id="lyfileopen" style="height: 100%; padding: 10px;">
                        <div style="padding: 5px; background-color :#22124a; color: #fff; font-weight: bold;">
                            Choose File
                        </div>
                        <div style="padding:5px; background-color: #392f70;">
                            <table style="width: 100%;">
                                <tr>
                                    <td>
                                        <a href="#" class="btn btn-secondary btn-sm"
                                            onclick="
                                                SCB.showlayout('frmvsi');
                                            "
                                            title="Cancel"
                                        >
                                            <!-- <i class="fas fa-home" -->
                                            <!-- <i class="far fa-eye-slash" -->
                                            <i class="fas fa-eye-slash"
                                                style="padding: 0;margin: 0; width: 100%; color: #fff"
                                            ></i>
                                        </a>                                                                        
                                    </td>
                                    <td>
                                        <div style="width: 5px;"></div>
                                    </td>
                                    <td>
                                        <a href="#" class="btn btn-warning btn-sm"
                                            onclick="
                                                SCB.opendirectory(SCB.homepath,'');
                                            "
                                            title=""
                                        >
                                            <i class="fas fa-home"
                                                style="padding: 0;margin: 0; width: 100%; color: #000"
                                            ></i>
                                        </a>                                                                        
                                    </td>
                                    <td>
                                        <div style="width: 5px;"></div>
                                    </td>
                                    <td>
                                        <a href="#" class="btn btn-primary btn-sm"
                                            onclick="
                                                SCB.goBack();
                                            "
                                            title="Go Back"
                                        >
                                            <i class="fas fa-arrow-circle-up"
                                                style="padding: 0;margin: 0; width: 100%; color: #fff"
                                            ></i>
                                        </a>
                                                
                                    </td>
                                    <td>
                                        <div style="width: 5px;"></div>
                                    </td>
                                    <td style="width: 100%; margin-right:5px;">
                                        <input id="inputpathdir" type="text"  class="form-control form-control-sm" placeholder=""
                                            style="width: 100%;
                                            background-color: #3d3454;
                                            border-color: #22124a;
                                            color: #fff;
                                            "
                                        >
                                    </td>
                                </tr>
                            </table>
                            <div style="height: 5px;"></div>
                            <div style="overflow: auto;
                            min-height: 100%; max-height: 100%;
                            background-color: #fff;
                            "
                            >
                                <div id="lypaneldirsfiles">
                                    
                                </div>
                            </div>
                        </div>
                        <div style="height: 20px;"></div>
                    </div>




                    <div id="lyhelppanel" 
                        style="text-align:center; height: 100%; margin: 0 auto;"
                    >
                        <table class="table table-striped table-dark">
                            <thead>
                                <tr>
                                    <th scope="col" style="width: 170px;">Event</th>
                                    <th scope="col" style="width: 170px;">Command</th>
                                </tr>
                            </thead>
                            <tbody>

                            </tbody>
                                <tr>
                                    <td>Zoom in</td>
                                    <td>Mouse wheel</td>
                                </tr>
                                <tr>
                                    <td>Zoom out</td>
                                    <td>Mouse wheel</td>
                                </tr>
                                <tr>
                                    <td>Transtale</td>
                                    <td>ALT + Mouse click and drag</td>
                                </tr>
                                <tr>
                                    <td>Selection</td>
                                    <td>Mouse click and drag</td>
                                </tr>
                                <tr>
                                    <td>Show ROIs</td>
                                    <td>Click on the black button</td>
                                </tr>
                                <tr>
                                    <td>Execute classification</td>
                                    <td>Click on the blue button</td>
                                </tr>
                        </table></div>

                    <div id="lyhelppanel2" 
                        style="text-align:center; height: 100%; margin: 0 auto;
                            padding: 10px;
                        
                        "
                    >
                        <table class="table table-striped table-dark">
                            <thead>
                                <tr>
                                    <th scope="col" style="width: 170px;">Event</th>
                                    <th scope="col" style="width: 170px;">Command</th>
                                    <th scope="col">Description</th>
                                </tr>
                            </thead>
                            <tbody>

                            </tbody>
                                <tr>
                                    <td>Zoom in</td>
                                    <td>mouse wheel rolled up</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Zoom out</td>
                                    <td>mouse wheel rolled down</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Transtale</td>
                                    <td>ALT + Mouse drag</td>
                                    <td>.....</td>
                                </tr>
                                <tr>
                                    <td>Selection</td>
                                    <td>Mouse drag</td>
                                    <td>.....</td>
                                </tr>
                                <tr>
                                    <td>Show ROIs</td>
                                    <td>Click on the black button</td>
                                    <td>.....</td>
                                </tr>
                                <tr>
                                    <td>Upload a TIFF image</td>
                                    <td>......</td>
                                    <td>.....</td>
                                </tr>
                                <tr>
                                    <td>Upload a VSI image</td>
                                    <td>......</td>
                                    <td>.....</td>
                                </tr>
                                <tr>
                                    <td>Execute classification</td>
                                    <td>Click on the blue button</td>
                                    <td>.....</td>
                                </tr>
                        </table>
                    </div>                    
                    <!-- <div style="height: 25px;"></div> -->

            </td>
        </tr>
    </table>
    <script>
        var MOPRO = new MonitorProcess();
        MOPRO.main();

        var SCB = new lung();
        var DRW = new drawio("#lyimgview", SCB);

        SCB.mw.main();
    </script>

</body>
</html>

<!--                         
                        <div style="height: 75px;"></div>
 -->